{"triggers":[],"nodes":[{"uid":"614f9f03-4c26-4e52-bdc6-bcacfbe005cb","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"6daddcdf-8033-4ed3-a0e7-daca916b2b27","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"This logic is used to get the PNR details with SWS getReservation service."}}]},{"uid":"370d344a-879e-4e3a-b6f5-1d1c2e928e1e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"297406a4-357f-4083-b428-6c0c99966bcd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"27be6c96-6394-4cc2-a16b-63a4111bc6f0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"732dbf4b-9894-4953-b82e-1b2df958deda","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"b23580ce-81c1-4b2c-a588-f1ade29414fa","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If we get error while calling this service, the app will retry call the service two more times."}}]},{"uid":"99b3d53c-7e3c-455c-b2d9-c5d52acbaf23","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"56eb124d-9d81-40b5-a7cd-6c05465c5ff6","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"04496014-eee0-4ba1-a62c-5e962e3a0da5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"readSubjectAreasFailed"}},{"uid":"dc1829ba-16c8-4934-955e-06289df51412","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$readSubjectAreasFailed.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"readSubjectAreasFailed"}},{"uid":"7ebc50cc-5b2b-4d71-97ce-8e081ec38ca1","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"b9744759-9064-43e8-a471-af2f19f6c753","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"Please enter the commands to handle errors."}}]},{"uid":"85f993d5-f3c1-469a-a217-588134977f59","commandName":"OpenCSVTXT","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}},{"name":"filePath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/GetReservation_subjectArea.txt"}},{"name":"delimeter","value":{"type":"STRING","string":"newLine"}},{"name":"trimTrailingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"trimLeadingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"containsHeader","value":{"type":"BOOLEAN","boolean":false}},{"name":"encoding","value":{"type":"STRING","string":"ansi"}}]},{"uid":"89efea89-88d5-4d16-9878-13839c64e961","commandName":"ReadFromCsvTxt","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}}],"returnTo":{"type":"VARIABLE","variableName":"CSV-TXT-SubjectAreas-DATA"}},{"uid":"7be70e40-eeaf-47fc-be7e-4e4cf0ac7229","commandName":"CloseCsvTxt","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}}]},{"uid":"27b93775-ba30-4a06-b585-84f62c8b56ae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"ddf9ffbf-1f30-4aa6-8f5d-196bab56b439","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"e38aeba7-4246-4634-9815-8485ede4fea4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"efe886e6-07d0-4abc-912f-dcdfa2589866","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","expression":"Use $Loop-Filedata-Column-1$ variable for each record in File."}}]},{"uid":"b55d8a8a-0a51-43f5-a022-bf8c469463b5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas$$Loop-Filedata-Column-1[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"4708e5e4-56d3-481f-812c-d65d92bc141c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}}],"attributes":[{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"Loop-Filedata-Column-1"},"attributes":[{"name":"sourceTable","value":{"type":"VARIABLE","variableName":"CSV-TXT-SubjectAreas-DATA"}}],"value":{"type":"ITERATOR","iteratorName":"iteratorTableRow","packageName":"DataTable"}},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}]}],"branches":[{"uid":"be6580cd-4c6f-4f85-b7cc-30ecaede760b","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"e57482d5-5edf-49f9-ac53-daac4be284b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"readSubjectAreasFailed"}},{"uid":"2a1fccb8-46f6-4196-a246-b86c4c001a35","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$readSubjectAreasFailed.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"readSubjectAreasFailed"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"d0222dcd-a690-403e-8ab0-22f00c88893d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"10f860e8-fcab-42dc-8b1b-82da97c345a2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"            <v1:SubjectArea>ITINERARY</v1:SubjectArea>\n            <v1:SubjectArea>REMARKS</v1:SubjectArea>\n            <v1:SubjectArea>AFAX</v1:SubjectArea>           \n            <v1:SubjectArea>GFAX</v1:SubjectArea>\n            <v1:SubjectArea>NAME</v1:SubjectArea>\n            <v1:SubjectArea>PASSENGERDETAILS</v1:SubjectArea>\n            <v1:SubjectArea>PHONE</v1:SubjectArea>\n            <!--<v1:SubjectArea>TICKETING</v1:SubjectArea>-->\n            <!--<v1:SubjectArea>VCR</v1:SubjectArea>-->"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"899941cb-b42d-47bc-b981-26a74447f8c4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$readSubjectAreasFailed$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[{"uid":"b70953b7-9ac0-422a-ab34-1326d811faaf","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"7267d52d-0f06-4495-9993-e6c552eb01ef","commandName":"uppercase","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"2133ba06-5004-4919-b096-0fc18e4df7d2","commandName":"split","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas$"}},{"name":"delimiter","value":{"type":"STRING","string":","}},{"name":"limit","value":{"type":"NUMBER","number":"-1"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas_List"}},{"uid":"d218ac52-188e-4431-a498-c13118543aef","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"9b1efba3-6a41-4aea-ab63-4557c8b52a9f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"460ace54-3f65-4cb8-bc4c-87fb61fdbb58","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"8d6714a9-51c0-4285-9558-76c1c49f8c60","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"52add3ec-b139-43d3-8fa5-07b66f5f39f0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"75ac0422-5c2c-4ce4-816f-46119940fee3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas$\n<v1:SubjectArea>$Subject_Areas_List.LegacyAutomation:getLegacyIndexValue($Loop-Counter-1.LegacyAutomation:getDecrementedNumber$)$</v1:SubjectArea>"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"b64c8182-1692-4cdb-97b8-ed1a87a167c4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}}],"attributes":[{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"List-Item-1"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"Subject_Areas_List"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}],"value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"}},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}]}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Subject_Areas$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"08bd1312-389b-4852-8c1a-a3a1808e1bd7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"e6d26e07-6058-4c7d-a79a-e30208c34a6f","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"4cf26965-3d3d-4ea5-bc0e-2e8a00440ae2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"3854c026-c5af-4ec4-ae84-01939ac836bc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"c9a8a490-0998-4483-965d-c336b2bf05a5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"e689af49-adf9-400f-a1a5-edb2159957a4","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"294a9324-97ca-41fa-a68e-e953a9374620","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/SessionCreateRQ"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}},{"key":"EPR_Username","value":{"type":"STRING","expression":"$EPR_Username$"}},{"key":"EPR_Password","value":{"type":"STRING","expression":"$EPR_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"ce9892d2-738e-4ba2-a7dd-af5e14086eae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_Authorization\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"380aa0ea-5378-4a96-a4fe-fdfde84a2029","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"1fd2f581-cf12-4f7d-a01d-8d91018d773e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"a80164eb-ff38-4177-ba13-4bf314613079","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_BinarySecurityToken\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"c090fa0b-eed4-49d9-9ba4-b70b5aa1a501","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"027e04a7-29a5-4ec5-b982-e3749d581858","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"db2a03bc-24cc-40ae-b906-fb5a00e63760","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"13774529-dd51-4663-92e4-b8b8f115e53c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"c8ad1c1d-cb5c-47c1-b250-041096f8b9e5","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"cc48efd1-b8d5-4cbf-bbdd-28ff13f50aa4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"6ad7e701-b2e3-4487-b670-1609de76885d","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"fcfef898-54d9-4c88-b87d-a5c5102befe1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"faa74462-dc71-467b-9c75-9ab7ad361a81","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"41c39974-f50e-4abd-be38-7ad82f3634f5","commandName":"RunScript","packageName":"LegacyAutomation","disabled":false,"attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"bb06e494-78d6-4860-ad7a-061c5d9ce4e5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"e46adae4-eb2b-487a-8ae9-9f0818ff2c85","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_Authorization$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"ebad5f8b-ed0f-4e45-983e-ffcd3f5ce8e2","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"1006cbca-6945-4e7f-b438-f7baabd194fb","commandName":"randomString","packageName":"String","disabled":false,"attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"763addf9-1019-4dbd-99be-c72050d620d6","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"2ab9b015-faf7-4d34-a711-60faea904e98","commandName":"soapCommand","packageName":"SoapWebService","disabled":false,"attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"GetReservationService"}},{"name":"operation","value":{"type":"STRING","string":"GetReservationOperation"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:v1=\"http://webservices.sabre.com/pnrbuilder/v1_19\">\n   <soapenv:Header>\n      <sec:Security>\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:version=\"\" mes:id=\"66224617\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>getReservationRQ</mes:Service>\n         <mes:Action>getReservationRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <v1:GetReservationRQ Version=\"1.19.0\">\n         \n         <v1:Locator>$PNR_Locator$</v1:Locator><v1:RequestType>Stateful</v1:RequestType>\n         <v1:ReturnOptions PriceQuoteServiceVersion=\"4.0.0\">\n            <!--Optional:-->\n            <v1:SubjectAreas>\n               <!--1 or more repetitions:-->               \n            $Subject_Areas$\n  \n            </v1:SubjectAreas>\n            <!--Optional:-->\n            <v1:ViewName>Simple</v1:ViewName>\n            <!--Optional:-->\n            <v1:ResponseFormat>STL</v1:ResponseFormat>\n         </v1:ReturnOptions>\n      </v1:GetReservationRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"GetReservationPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/getReservation-v1_16_0/GetReservation_1.16.0_1.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/GetReservationOperation?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"7b9267d8-8f53-492d-8014-d48923d85ba5","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"ae31dc15-f88f-4d42-89e7-69acbd0f31db","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}},{"uid":"2da83969-1b5b-480c-b1b7-9861d33dc08d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"b56bab02-b6c2-4f0c-bc03-9c46d0c38077","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"b575b80c-bd05-45d0-9393-831643b40308","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$ failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"bbf8478a-2afd-4c8c-a375-cb807cb29710","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"5d1f53b0-1d48-4b17-aa3f-b4343b86b1b9","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-3"}},{"uid":"ab460804-49ed-4397-b2a7-4bde807e50f8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"da09ad79-d6b0-40e2-8f75-96772cd89dec","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"adcf374b-33f4-47f9-b117-3ad19995f67f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"bbdb3605-aa9b-4db3-aa2e-ab3f5ebe5642","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"94e017cd-3fb8-4538-9044-f1ce8a7b287c","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-4"}},{"uid":"5cec4da5-9b61-4d13-b9d1-82587eda3992","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"98e5e614-51fc-4881-81ed-4552b1ead6c7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"8f87fb62-45df-48de-8d7b-b8102a9b1422","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"348038f3-0a7d-4a02-8682-31ac1f3f6825","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"f0e05399-0ff6-4ebd-8d76-ae8338c668ad","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If serivce call is successful, then exit the loop and return pnr details to caller"}}]},{"uid":"077225e2-1e4f-497f-a255-96c9630fac77","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"b1daadd9-6da6-4d85-a10a-ce5792d72cad","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"f821303d-3ca3-4f64-bfe8-563e4951321f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"f717bfb2-5064-4639-8095-7b6e4f256e06","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[{"uid":"5073ec7e-497a-4d96-b0d8-bbe19d2c38dc","commandName":"elseIf","packageName":"If","disabled":false,"children":[{"uid":"34f9207c-036e-4530-9b56-4204757bdf49","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"2a1e72b9-aa48-4dc7-a609-8e88817b6481","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"e99d8976-575d-434c-94f3-8df09f314041","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If service return error \"FIN OR IG\", ignore transaction and retry."}}]},{"uid":"827d1996-9979-4158-8859-c987cf62acc1","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"e2369a5c-bf6b-4121-8b79-81e9c3fd2e61","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"25f52069-dcd7-4fde-a6d3-90952d518239","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"7c62dc0b-c416-4620-a5b8-c36dd7d0f4f6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$, will ignore transaction and retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"ef9b95a0-d179-43cf-8a22-e594d1dc4997","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"f5361ac9-cd7a-4c67-a957-8dca34fab0e9","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-5"}},{"uid":"e127784e-087f-4e36-ae77-3b108f1ede06","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/IgnoreTransaction"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}},{"key":"pnrLocator","value":{"type":"STRING","expression":"$PNR_Locator$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-6"}},{"uid":"dc19b02f-d5f3-4d4c-a4ec-e0b5600245d7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"ignoreTransactionResponse\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igResponse"}},{"uid":"77ef4334-aed6-4b43-af09-90806136fef5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igStatus"}},{"uid":"0790acca-b3b5-46fd-a7da-cfc7031fd10c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igError"}}],"branches":[{"uid":"d6df9576-8e47-4623-b171-bf73d87b03af","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"5e9b6067-c6f9-4f4e-9360-1adb762faa13","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"5c1bcea8-5cef-4afb-a4eb-93fa6e3b86e9","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If service return other errors, no retry, and return error to caller."}}]},{"uid":"cbe075ac-35e8-490f-bd0a-e83a77aba533","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"0f633a8f-40dc-4d82-b5fe-d7ef8b975a26","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"70ca5852-3a69-474f-914b-f206c90d42d1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$PNR_Details.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"76a94cce-93a6-43c7-a891-550c71049c03","commandName":"loop.commands.break","packageName":"Loop","disabled":false}]}],"attributes":[{"name":"operator","value":{"type":"STRING","string":"OR"}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"FIN OR IG"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"operatorAttribute":{"operator":"OR","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"The PNR in the AAA has been modified"}},{"name":"","value":{"type":"","":"1"}},{"name":"","value":{"type":"","":"String"}},{"name":"","value":{"type":"","":"stringVariable"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}}]},"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"WARNING"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"ce96a60a-03b9-4eb1-a001-8d3cc4271561","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"80aa4625-92c5-4abf-aa13-e31e3de24569","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"a93c9ba5-0695-41bc-9477-163a4d662b6e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If serivce call failed, log the message into logfile, if the error is InvalidSecurityToken, then reset SWS_BinarySecurityToken to blank."}}]},{"uid":"5b78ee6a-a51b-40d7-80b7-e59b201cb5ce","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"22f6c73f-1008-4e51-b43f-da1c019562ac","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"984fc9fe-7a50-4463-b4b0-de6908df2356","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"d2b1a57f-c382-4ad3-b0a6-f5eedc09ffe2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$, will retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"16a9d680-0dc1-4c46-900e-96a2bfd54d1c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"7b6e87d9-a645-4da0-bb5d-4a406830103c","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-7"}},{"uid":"496b73d5-d31f-4dc0-82be-f32d9a6dfa02","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"331d16e9-a41c-4581-bd8b-50f59d580e8f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"f228528e-c796-4507-b5b4-2b0a974caaa3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"InvalidSecurityToken"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[{"uid":"46aa05df-0202-45ca-a0a6-e16750e5af5f","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"57ea0dd0-6f32-4e31-9cc7-97f1cc60457b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"08546fe5-483f-4773-a30d-76717ddbd2ca","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"5b839b81-30a5-4359-ac60-c8ac4e4dda32","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"d6b37278-dbd9-43e2-ae31-7d01ce7c0204","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"95b4beec-e939-4d98-9807-cf48d0491af7","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"5ba913c9-8df9-4d46-a741-a860d50ca5a5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"af3f7c20-4a0a-4d6e-beac-0c8a84933476","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"88d32a46-0c82-427f-ad08-9edf4daf4c19","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$,will retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"07754bac-a171-4bba-85c0-21c1a8210850","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"87683af2-cd4f-4a9d-b7bd-2c82067d7ebe","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-8"}},{"uid":"d39f63a7-a44c-4957-9fca-affce452a439","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"a7aca0bc-f800-404f-9ce0-9a8a5d7d80ff","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retryTimes$"}},{"name":"operator","value":{"type":"STRING","string":"LessThan"}},{"name":"value","value":{"type":"STRING","string":"3"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}]},{"uid":"04b9f40c-9766-4dc8-81f8-40c91821e086","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"5f4925b9-d6bc-4fae-b1d7-0339abf34254","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"77ca7cea-0b8c-4506-8c0d-b99b8c2fd038","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-9"}}],"variables":[{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"message","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"retryTimes","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"0"}},{"name":"igError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"igStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"igResponse","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"hasErrorWhenCallSWS","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"false"}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"false"}},{"name":"readSubjectAreasFailed","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Subject_Areas_List","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"0"}]}},{"name":"EPR_Username","description":"Your team's EPR Username","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Password","description":"Your team's EPR Password","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"PNR_Locator","description":"The locator of the PNR you are retrieving.\r\nDefault value is 'NOLOCATOR' if no locator is provided.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Subject_Areas","description":"Specify which subject areas of the PNR to receive (e.g. \"ITINERARY,REMARKS\").\r\nIf left blank, full PNR details will be returned.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"PNR_Details","description":"This variable will hold the details of the PNR you are retrieving in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"logFile","description":"File where Sabre actions will be logged.\r\nPass $vInfoLogFile$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<vInfoLogFile>"}},{"name":"logFolder","description":"Path to the folder containing the log file.\r\nPass $Path_Logs$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<Path_Logs>"}},{"name":"taskName","description":"Name of task which is calling SWS metabot.\r\nPass $Task_Name$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<Task_Name>"}},{"name":"List-Item","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"List-Item-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Filedata-Column","description":"","type":"RECORD","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Filedata-Column-1","description":"","type":"RECORD","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"CSV-TXT-SubjectAreas-DATA","description":"","type":"TABLE","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-3","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-4","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-5","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-6","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-7","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-8","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-9","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"breakpoints":[],"packages":[{"name":"CsvTxt","version":"2.4.0-20210504-152806"},{"name":"Comment","version":"2.6.0-20210504-152804"},{"name":"DataTable","version":"2.8.0-20210504-153459"},{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Loop","version":"3.0.0-20210504-152940"},{"name":"Number","version":"3.0.0-20210504-153002"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"},{"name":"String","version":"4.1.0-20210427-194725"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"TaskBot","version":"2.0.1-20210503-140009"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"1","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}