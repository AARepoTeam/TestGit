{"nodes":[{"uid":"37ab3d98-7135-461b-880b-49fb630a4aaa","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"72a526a4-e030-434b-b7ef-307d468a38ba","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"5484c58b-467c-4eb2-b71b-4ca4f412576f","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"73a57036-9284-4a7c-93f5-824cd1d3807b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"4292ef31-6ebf-42f6-a8f1-eaf93fee370f","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"c476b575-fddd-4077-b1e9-9b341da5e114","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":""}}]}],"children":[{"uid":"63fb0628-40f0-49c4-a39e-f2ea1b0cd6cd","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"8b31a85e-3f45-49d8-9bf6-547ca8b821f2","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"69694a5d-7e36-4fe3-88ce-dc3fd0d4ccec","commandName":"clear","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"2158f747-6489-4f74-99cf-177a40db31b7","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"194be5e9-c3b2-44ef-b17d-ff37b99b9cb8","commandName":"addItem","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"2ffdac4f-48ee-4e58-87cb-f12b775df555","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"256f01f7-f4a7-4aff-a36c-e5324c707ff5","commandName":"addItem","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"ec0efc50-5deb-4623-aedb-5628d2f9f007","commandName":"RunScript","packageName":"LegacyAutomation","attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"0b633c0f-00a9-43ce-9a22-c1206baf7227","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"6b00e308-dd89-4ade-910f-f8d33fe5d436","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"44dc987e-adb2-4473-a015-58efd65ca8ec","commandName":"randomString","packageName":"String","attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"76a60ba4-6873-4ccd-a699-b01dca70789a","commandName":"toString","packageName":"Datetime","attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"ef9cc963-651b-48c9-be63-2ac74a0db8d2","commandName":"soapCommand","packageName":"SoapWebService","attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"SessionCloseRQService"}},{"name":"operation","value":{"type":"STRING","string":"SessionCloseRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://www.opentravel.org/OTA/2002/11\">\n   <soapenv:Header>\n      <sec:Security>\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:id=\"40477978\">\n         <mes:From>\n            <mes:PartyId type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <mes:PartyId type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service mes:type=\"sabreXML\">SessionCloseRQ</mes:Service>\n         <mes:Action>SessionCloseRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:SessionCloseRQ version=\"1.0.0\">\n         <ns:POS>\n            <ns:Source PseudoCityCode=\"HDQ\"/>\n         </ns:POS>\n      </ns:SessionCloseRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"SessionClosePortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/SessionCloseRQ_v1_0_0/SessionCloseRQ.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/SessionCloseRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"66e6f39c-8093-4f1e-9064-c72601261079","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"aa60ca2a-1b1c-4ca4-bde4-f3dbaafafbc5","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"5e93c46c-bc38-4c3b-a9de-f32cf5fe65ee","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"e989f7ee-085c-4624-97af-19d8c84220aa","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"c6eed39a-fac0-4ecb-a962-de25e7b21b34","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"sessionCloseResponse"}}]}],"branches":[{"uid":"2ffd1025-05f9-4c3f-ad0b-643e047522a4","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"aba22dda-4e02-45f6-940f-57a128b670fd","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"a8f80a72-4051-4b03-a5e4-88cc2be9f834","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}]}]},{"uid":"6e9b8f10-1a64-4ed1-a236-69a63d5f8091","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}]}],"children":[{"uid":"6cf94b17-bac5-440c-a051-cba0440d998b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"2ef71deb-2c95-4b3c-abaa-62f02b83596b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"984056f0-064c-4d79-855b-07d89338ec6b","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"b8faf9f8-fb4b-4e16-b0fc-d732ffe25878","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}]}],"variables":[{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"sessionCloseResponse","description":"The full service response in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"breakpoints":[],"packages":[{"name":"String","version":"4.1.0-20210427-194725"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"TaskBot","version":"2.0.1-20210503-140009"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM"}}