{"triggers":[],"nodes":[{"uid":"01cdaa3a-86a2-4823-bd8f-5a392af82b19","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"8367e8bf-2ab3-41eb-b5d8-aab6c174db7f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"e90f44fc-d90d-4e4b-aa75-a983be4cd56c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"3e8204a1-d25d-4608-bd92-e27f6d857797","commandName":"assignToNumber","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"nRetryTimes"}},{"uid":"641b732b-8b0c-44b9-a12c-28decdc6390d","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"4daef901-5264-4310-833f-942254c972b3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"0cff54e4-14a4-4540-a79f-e985e5616399","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"7380395c-7746-453a-815f-08aa7dc12a54","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"44fc8527-40c8-4ede-bcda-1fc88e7b971e","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"8f7e2bda-8cc8-4e6c-8c29-49e87b2055d8","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/SessionCreateRQ"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}},{"key":"EPR_Username","value":{"type":"STRING","expression":"$EPR_Username$"}},{"key":"EPR_Password","value":{"type":"STRING","expression":"$EPR_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"03094055-441f-424e-bb4f-1d87d2d8c86b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_Authorization\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"c5e6a100-6bf7-45a3-8b1a-ab62b69531f2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"33ad5252-1043-44c0-a147-cb0967c0bff3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"a97316bb-0241-4906-baf1-9204aa26acf9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_BinarySecurityToken\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"ce51df15-631f-4b1f-85fa-265fe1d36010","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"97d9136b-36ce-453b-a64c-9aa4b21e1b3e","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"51a39f39-9c3d-4f27-bf63-3ded97ae887b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"4e547495-4005-42f7-9b86-577116edb1bf","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"94602cf8-a921-4c3c-bded-951c739b4a4d","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"da187752-7e49-4c19-8a42-128a233fa8f1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"2268f0e1-88ab-46d8-af12-9f85abb2b1c7","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"0e3e06ca-844f-4653-961e-7b906b9b6db3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"0b8d8852-bcd5-44ce-89fb-0c3210aeee8f","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"406bdb42-386a-4381-80e9-6c867b795edc","commandName":"RunScript","packageName":"LegacyAutomation","disabled":false,"attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"8eb9a257-a8f8-4d69-9997-e0991145ff3f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"febeca89-6822-42bc-9672-db6607cea4a9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_Authorization$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"5207ec17-8861-44d3-a5c7-43ffb55d5e55","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"0ddd194a-e40d-4297-b1d4-559b8007a48b","commandName":"randomString","packageName":"String","disabled":false,"attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"a15b4424-7f55-4f50-929a-7d53a0fdeac0","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"b777e4b1-1639-4651-9614-7c4ca252a34f","commandName":"soapCommand","packageName":"SoapWebService","disabled":false,"attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"QueueCountService"}},{"name":"operation","value":{"type":"STRING","string":"QueueCountRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.0"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://webservices.sabre.com/sabreXML/2011/10\">\n   <soapenv:Header>\n      <sec:Security>\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:version=\"?\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>QueueCountLLSRQ</mes:Service>\n         <mes:Action>QueueCountLLSRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:QueueCountRQ Version=\"2.2.1\">\n         <ns:QueueInfo>\n            <ns:QueueIdentifier PseudoCityCode=\"$vPseudoCityCode$\" Number=\"$vQueueNumber$\"/>\n         </ns:QueueInfo>\n      </ns:QueueCountRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"QueueCountPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/QueueCount_v2_2_1/QueueCountLLS2.2.1RQ_1.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/QueueCountRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"e2098cad-d5a6-4ea8-86db-966b48d4e462","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"bb4a7899-c2e8-493c-ba5e-a0ca747c9236","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}},{"uid":"93e26bf4-c33c-45b1-b79a-ebd34bffd94e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"1c5683cc-4db6-4284-9cd8-eb1d642d5fb7","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"ac0e9938-49f8-42f0-b42a-8be433a59943","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"9fcc23ee-5eaf-4825-99cd-9e402a7b4aee","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"30d47556-27f2-4856-9169-5b52652045e6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Queue Count $vPseudoCityCode$$vQueueNumber$ failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"c7dbe90b-81e2-447f-ab33-e6705ef3cb77","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"81fb3408-b073-49d3-860a-54738d593c22","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"1dd95098-1257-48bb-8455-ca0721475f11","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-3"}},{"uid":"54e81513-d989-4f3b-a0de-dd5880677216","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"0833c7fb-8b1a-48ac-a2fc-eb0ab7361048","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"3e8ab6ff-67d3-4f69-8ad9-620863ccd018","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"740013d1-58dd-43d3-8324-4bd96292bb0b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"QueueCount_XML_Response"}},{"uid":"7e7a557c-7dc5-4836-ac5a-c9b7ae80268a","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"323867c0-897b-4288-b079-74be0b5a7557","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Queue count $vPseudoCityCode$$vQueueNumber$ response: $Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"7bc21e21-7c04-4c86-84e8-83d211f3a979","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"e476cf3f-5698-4116-9dd8-9c7417555939","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"026e0938-be31-42b4-b245-ffd4fdecb7d8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"f3ea5da7-9b98-4875-b68a-f58aba29beec","commandName":"increment","packageName":"Number","disabled":false,"attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$nRetryTimes$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"nRetryTimes"}},{"uid":"f2233a4d-287f-4a76-b2d7-f9b76e0ff475","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"7f6f908e-ed63-41ff-9609-adea292b4506","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"2ac20853-407f-4a7c-abed-04123c32350c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"InvalidSecurityToken"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[{"uid":"4b619c47-a01d-43de-8659-f586be464a43","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"9154da1a-1c70-4525-8805-47c1045907b1","commandName":"startSession","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"ResponseSession"}},{"name":"data","value":{"type":"STRING","expression":"$response$"}},{"name":"inputType","value":{"type":"STRING","string":"text"}}]},{"uid":"900e7083-0b3c-4b80-84e1-a4199035b526","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"9d23049c-5ca8-4447-9a58-06ffde1ed88f","commandName":"getSingleNodeV2","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"ResponseSession"}},{"name":"xPath","value":{"type":"STRING","string":"//*[local-name()='QueueCountRS']/*[local-name()='ApplicationResults']"}},{"name":"attributeName","value":{"type":"STRING","string":"status"}}],"returnTo":{"type":"VARIABLE","variableName":"vApplicationResultsStatus"}},{"uid":"c63ec6da-9ad1-4f88-a3a0-1cc4b5bf11ba","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"f7bb0951-2ee6-41ba-8ba7-f44168e6fd92","commandName":"getSingleNodeV2","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"ResponseSession"}},{"name":"xPath","value":{"type":"STRING","string":"//*[local-name()='QueueCountRS']/*[local-name()='QueueInfo']/*[local-name()='QueueIdentifier']"}},{"name":"attributeName","value":{"type":"STRING","string":"Count"}}],"returnTo":{"type":"VARIABLE","variableName":"QueueCount_Text_Response"}}],"branches":[{"uid":"79033d3c-9a6f-498c-a4c7-a36aa280880a","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"f8c5c577-d9ec-48a2-a50a-15e3a99877fa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"a0b06171-ba58-4e3f-ac5e-097ac786bfdf","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"b65979c3-3a52-48da-993f-db99935aaaa9","commandName":"getSingleNodeV2","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"ResponseSession"}},{"name":"xPath","value":{"type":"STRING","string":"//stl:Message"}},{"name":"attributeName","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$vApplicationResultsStatus$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"Complete"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[{"uid":"ad3c32ee-cfa2-4705-9b4b-e9cacebd4238","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"719f794e-a3e5-4d76-ad58-074b6b7cd362","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"18f210e9-463f-4b46-a0b3-a7900856d65e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"ec4fe4e7-6e50-4790-9eaf-dd23930960aa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"80886a88-0dc4-4d55-b12b-82931d6022dc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"No message found in the QueueCount response"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"50bfed0d-c6c0-4a8e-b666-18354e35fbb3","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Error-Description$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"4a281b80-fd0b-4a64-aa38-a479c31fb1ce","commandName":"endSession","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"ResponseSession"}}]},{"uid":"aa04d424-4140-494f-9e4f-bddc253ef114","commandName":"loop.commands.break","packageName":"Loop","disabled":false}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[{"uid":"01454a43-5758-4361-81d6-885e2c85ec58","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"652b0269-8595-4ae9-9af6-748531e83121","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"c95d01a6-5126-4a7f-ac3c-a974120140b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"ed2f29d4-bf2d-4450-90a9-f6f5029c20b7","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"00951b72-73fc-48da-8dca-a7e5e8892d19","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"ec4cf4d0-5d72-4d2d-89c4-66f67e2445e2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"301affd6-54ef-4d05-b9a0-219255926763","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"98eeea23-d342-4b55-b4e8-0746c007c5fb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"ccfddc82-6609-47b1-9df3-641cd067e545","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Queue count $vPseudoCityCode$$vQueueNumber$ failed: $Error-LineNumber.Number:toString$ $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"4d1575ad-0b72-4100-8173-f09e87060cf4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"5538d841-bdc1-4d49-bfaa-c804397aab21","commandName":"increment","packageName":"Number","disabled":false,"attributes":[{"name":"source","value":{"type":"NUMBER","expression":"$nRetryTimes$"}},{"name":"by","value":{"type":"NUMBER","number":"1"}}],"returnTo":{"type":"VARIABLE","variableName":"nRetryTimes"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"loopType","value":{"type":"STRING","string":"WHILE"}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"NUMBER","expression":"$nRetryTimes$"}},{"name":"operator","value":{"type":"STRING","string":"LT"}},{"name":"value","value":{"type":"NUMBER","number":"3"}}],"value":{"type":"CONDITIONAL","conditionalName":"numberVariable","packageName":"Number"}},{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}}]}],"variables":[{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"my-list-variable","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"my-value-1"},{"type":"STRING","string":"my-value-2"},{"type":"STRING","string":"my-value-3"},{"type":"STRING","string":"my-value-4"},{"type":"STRING","string":"my-value-5"}]}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Username","description":"Your team's EPR Username","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Password","description":"Your team's EPR Password","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"logFolder","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"C:\\RPALog"}},{"name":"hasErrorWhenCallSWS","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"false"}},{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"retryTimes","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"0"}},{"name":"message","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vApplicationResultsStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"QueueCount_Text_Response","description":"The Sabre response message to the service call.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"QueueCount_XML_Response","description":"The full service response in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vPseudoCityCode","description":"Pseudo city code, e.g. HDQ","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"vQueueNumber","description":"The queue number to retrieve the count of, e.g. 112","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-3","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"nRetryTimes","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"subtype":"UNDEFINED","defaultValue":{"type":"NUMBER","number":"0"}}],"breakpoints":[],"packages":[{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Loop","version":"3.0.0-20210504-152940"},{"name":"Number","version":"3.0.0-20210504-153002"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"},{"name":"String","version":"4.1.0-20210427-194725"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"TaskBot","version":"2.0.1-20210503-140009"},{"name":"XML","version":"3.1.0-20210504-153517"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM","botCodeVersion":"1"}}