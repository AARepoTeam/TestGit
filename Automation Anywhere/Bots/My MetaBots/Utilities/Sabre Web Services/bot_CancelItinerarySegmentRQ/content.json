{"nodes":[{"uid":"d296ca9e-d250-42bb-9f34-8e3046078619","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"44184327-9cde-403f-8edd-b21d3ff91cce","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"2bbe4aed-6daa-450c-9079-ae0d259c8911","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"05ca988b-1ed4-436d-bf19-82c5e0cb4065","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"FALSE"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"e0a41ae5-e139-4572-970a-8293c0b09057","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"61015b07-ce2d-4e34-8b32-2e20404cda61","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"6ec9bd3e-abef-449d-8bf1-8665142173ea","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/SessionCreateRQ"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}},{"key":"EPR_Username","value":{"type":"STRING","expression":"$EPR_Username$"}},{"key":"EPR_Password","value":{"type":"STRING","expression":"$EPR_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"1ccab21f-9142-430b-9246-69057d6a6d2c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_Authorization\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"05f4c8c3-5ae1-40f4-84f2-db53992438bb","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"b67bf21d-1c31-405a-ad48-551ea888b487","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"aff37645-57ec-431c-a463-a7697b8e905c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_BinarySecurityToken\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"4a1f46d6-15dc-49f6-a2d0-f18499e99e7b","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}]}],"children":[{"uid":"4b87ad36-e81c-4dac-abe7-0809a1d49c49","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"fc561d83-761d-472a-ae58-8a2547fec731","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"49738ad6-ab43-483d-ae3f-9f34142fbc0a","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_Authorization$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}]}],"children":[{"uid":"3d9dc967-3f0e-4937-b4f0-04f9c2d5b227","commandName":"clear","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"670d0784-ea36-435f-a415-edc759ba3154","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"4931610f-103c-4ecf-866a-32ad03ed7147","commandName":"addItem","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"8535010d-6dc9-4669-90d2-053f77b58c6d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"50b28ab6-e910-49f9-a530-55fc6eaa062f","commandName":"addItem","packageName":"List","attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"048754ff-9300-4f53-8e2c-be316c9470d1","commandName":"RunScript","packageName":"LegacyAutomation","attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"7c18e856-3f04-4cb7-8e31-ee988c351088","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"9b250a74-09f5-4c7c-9583-d5740331f67c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}}]},{"uid":"0b49724b-b70e-4916-abdb-187f2b1e0307","commandName":"if","packageName":"If","attributes":[{"name":"operator","value":{"type":"STRING","string":"OR"}},{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"XI"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}]}],"children":[{"uid":"6f2fea63-545d-49ae-af75-8998b0617888","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"7be84939-2e42-4582-b5f9-bce861a9c649","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If cancelling entire itinerary"}}]},{"uid":"d540a110-51ef-45bf-b0ba-a81570b3c620","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"d6742228-a43f-41ae-b665-cb6945c1de3c","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"d546aa91-ca5b-4adb-83a0-270337991f17","commandName":"randomString","packageName":"String","attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"3e186d5d-39dd-440f-a5ff-4e0d10fbea35","commandName":"toString","packageName":"Datetime","attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"fafd4dc4-d662-47ff-ae18-647dc41122fa","commandName":"soapCommand","packageName":"SoapWebService","attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"OTA_CancelService"}},{"name":"operation","value":{"type":"STRING","string":"OTA_CancelRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://webservices.sabre.com/sabreXML/2011/10\">\n   <soapenv:Header>\n      <sec:Security>\n         <!--Optional:-->\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:id=\"79979892\" mes:version=\"1.0\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>OTA_CancelLLSRQ</mes:Service>\n         <mes:Action>OTA_CancelLLSRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:OTA_CancelRQ Version=\"2.0.2\">\n         <!--1 or more repetitions:-->\n         <ns:Segment Type=\"entire\"/>\n      </ns:OTA_CancelRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"OTA_CancelPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/CancelItinerarySegments_v2_0_2/OTA_CancelLLS2.0.2RQ.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/OTA_CancelRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"16de1860-7e72-40bd-b16e-10a030e39294","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"bab66f9f-a058-421a-b292-57bbb836e0b4","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"bfb9844f-d31f-4cf7-aa9e-da3786fc5d7d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}]}]}],"branches":[{"uid":"a8706edf-8062-44e4-b89f-ff91f0939e39","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"_"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}]}],"children":[{"uid":"3176ca56-53a4-4525-8f6d-43c3a0dfcca5","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"50b0e5e5-72c0-424f-8259-7e90e8dad2c1","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If cancelling a range of segments"}}]},{"uid":"259e1fb2-808e-4fdc-9e02-4ebb1055e190","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"c520c991-b034-459b-aac1-6fb617108f01","commandName":"split","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}},{"name":"delimiter","value":{"type":"STRING","string":"_"}},{"name":"limit","value":{"type":"NUMBER","number":"-1"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"Segment_List"}},{"uid":"31f33d23-cbf2-4934-af41-a913e12fc49d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"3cca26da-ed3d-403f-b62f-cddfe3416548","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"},"returnTo":{"type":"VARIABLE","variableName":"List-Item-1"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"Segment_List"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"132a4659-0664-48fa-9e50-521ca33e6d5f","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"fe8d9bb0-229a-4440-ab38-3a84b6c3118c","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Loop-Counter-1$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"1"}}]}],"children":[{"uid":"cdbd0b50-d67d-4faa-a2fc-a5017df1c62c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segment_List.LegacyAutomation:getLegacyIndexValue($Loop-Counter-1.LegacyAutomation:getDecrementedNumber$)$"}}],"returnTo":{"type":"VARIABLE","variableName":"Segment_Number"}}],"branches":[{"uid":"f90932b9-63a4-4920-ac3f-4b958cda2c8c","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Loop-Counter-1$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"2"}}]}],"children":[{"uid":"dc0d3936-9708-4024-8d79-cc47ca54b34a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segment_List.LegacyAutomation:getLegacyIndexValue($Loop-Counter-1.LegacyAutomation:getDecrementedNumber$)$"}}],"returnTo":{"type":"VARIABLE","variableName":"End_Number"}}]}]}]},{"uid":"c8f98a59-9dd9-408c-af0d-1cedcedc56b9","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"a9564825-f9e2-43cc-964a-8c6d0764626c","commandName":"randomString","packageName":"String","attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"19735761-e20f-4e2b-a598-622b58bb3f88","commandName":"toString","packageName":"Datetime","attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"290a65d2-a600-4143-9623-0ef38c00b480","commandName":"soapCommand","packageName":"SoapWebService","attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"OTA_CancelService"}},{"name":"operation","value":{"type":"STRING","string":"OTA_CancelRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://webservices.sabre.com/sabreXML/2011/10\">\n   <soapenv:Header>\n      <sec:Security>\n         <!--Optional:-->\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:id=\"79979892\" mes:version=\"1.0\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>OTA_CancelLLSRQ</mes:Service>\n         <mes:Action>OTA_CancelLLSRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:OTA_CancelRQ Version=\"2.0.2\">\n         <!--1 or more repetitions:-->\n         <ns:Segment Number=\"$Segment_Number$\" EndNumber=\"$End_Number$\"/>\n      </ns:OTA_CancelRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"OTA_CancelPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/CancelItinerarySegments_v2_0_2/OTA_CancelLLS2.0.2RQ.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/OTA_CancelRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"fee9841e-8081-4ab1-aa0c-bbb0ae9da412","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"54fbedfc-a160-4830-b736-f9d3883952e0","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"bbdd8d9a-2f1b-463a-bc14-9670fdc57855","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}]}]}]},{"uid":"d5cc8041-e78a-46be-a778-37a2da63df74","commandName":"elseIf","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":","}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}]}],"children":[{"uid":"cffabc22-973b-4d95-b5f6-28da05598d8c","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"ea751a84-53af-42ba-ab56-59a3a50d063e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If cancelling multiple non-consecutive segments"}}]},{"uid":"b22347c7-5b80-44e0-82b6-ce08be6baf38","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"67335590-3d11-4875-b7ee-5fd78ec9d0c7","commandName":"split","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}},{"name":"delimiter","value":{"type":"STRING","string":","}},{"name":"limit","value":{"type":"NUMBER","number":"-1"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"substrings","value":{"type":"STRING","string":"ALL"}}],"returnTo":{"type":"VARIABLE","variableName":"Segment_List"}},{"uid":"c14ed82d-c2e0-4330-9710-3494048c3a6f","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"0c7f0e08-7b4f-4ef9-8bc6-ca9bf1aa52dc","commandName":"loop.commands.start","packageName":"Loop","attributes":[{"name":"iterator","value":{"type":"ITERATOR","iteratorName":"list.iterators.list","packageName":"List"},"returnTo":{"type":"VARIABLE","variableName":"List-Item-1"},"attributes":[{"name":"list","value":{"type":"VARIABLE","variableName":"Segment_List"}},{"name":"forOptions","value":{"type":"STRING","string":"all"}}]},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}],"children":[{"uid":"ecc422b5-6683-462c-9af3-7b832cb2b338","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"cb760146-3497-4552-8a70-1574d64a2f35","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segment_List.LegacyAutomation:getLegacyIndexValue($Loop-Counter-1.LegacyAutomation:getDecrementedNumber$)$"}}],"returnTo":{"type":"VARIABLE","variableName":"Segment_Number"}},{"uid":"277ae477-1c3d-4b3e-9b0b-18160fa9b794","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"26ffd535-b993-4b1f-8488-c7c6395fada8","commandName":"randomString","packageName":"String","attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"ddd403bb-c6c7-4502-a6d3-4cd0d0d07e32","commandName":"toString","packageName":"Datetime","attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"89a7f44d-0ac3-4115-840e-3e4cd412f9e2","commandName":"soapCommand","packageName":"SoapWebService","attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"OTA_CancelService"}},{"name":"operation","value":{"type":"STRING","string":"OTA_CancelRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://webservices.sabre.com/sabreXML/2011/10\">\n   <soapenv:Header>\n      <sec:Security>\n         <!--Optional:-->\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:id=\"79979892\" mes:version=\"1.0\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>OTA_CancelLLSRQ</mes:Service>\n         <mes:Action>OTA_CancelLLSRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:OTA_CancelRQ Version=\"2.0.2\">\n         <!--1 or more repetitions:-->\n         <ns:Segment Number=\"$Segment_Number$\"/>\n      </ns:OTA_CancelRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"OTA_CancelPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/CancelItinerarySegments_v2_0_2/OTA_CancelLLS2.0.2RQ.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/OTA_CancelRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"c1528782-46a4-4a68-a457-5f39b5b50645","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"71794865-3b63-441e-9280-b4b18e649edb","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"dafb1032-a59f-4f06-946c-db9142cb9ac6","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}]}]},{"uid":"4768bff5-b4fa-4327-b6b7-afbcabcfaf23","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}]}],"children":[{"uid":"c6fd9689-779d-4a09-b11d-561506198125","commandName":"loop.commands.break","packageName":"Loop","attributes":[]}]}]}]},{"uid":"a201f34a-b896-4da3-80bc-c0a66f3f27d6","commandName":"else","packageName":"If","attributes":[],"children":[{"uid":"f3f00dbb-f922-4c94-a2fd-dcf1db07b3ad","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"7f430445-90f0-4117-bcda-864270012b75","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If cancelling a single segment"}}]},{"uid":"db91bde1-6a0a-4c6f-91c1-dad8a7809a53","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"------------------------------------------------------------------------------------------------"}}]},{"uid":"c8709665-7f71-4bfc-9605-537db39655f6","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Segments_to_Cancel$"}}],"returnTo":{"type":"VARIABLE","variableName":"Segment_Number"}},{"uid":"b55d8f95-65fe-4974-b84b-82f384ec1329","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"3cca9924-124f-47e0-af37-4627b0307115","commandName":"randomString","packageName":"String","attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"f4d58098-3bb5-4a24-8131-98ed0ee8050f","commandName":"toString","packageName":"Datetime","attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"e43bf39e-0454-408d-8ac8-2981e88d5625","commandName":"soapCommand","packageName":"SoapWebService","attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"OTA_CancelService"}},{"name":"operation","value":{"type":"STRING","string":"OTA_CancelRQ"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:ns=\"http://webservices.sabre.com/sabreXML/2011/10\">\n   <soapenv:Header>\n      <sec:Security>\n         <!--Optional:-->\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:id=\"79979892\" mes:version=\"1.0\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n            <!--Optional:-->\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>OTA_CancelLLSRQ</mes:Service>\n         <mes:Action>OTA_CancelLLSRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <ns:OTA_CancelRQ Version=\"2.0.2\">\n         <!--1 or more repetitions:-->\n         <ns:Segment Number=\"$Segment_Number$\"/>\n      </ns:OTA_CancelRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"OTA_CancelPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/CancelItinerarySegments_v2_0_2/OTA_CancelLLS2.0.2RQ.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/OTA_CancelRQ?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"79297b7c-d7fa-4c98-9bb0-93b294956f3e","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"9b6118fb-a0c5-4d1a-91ee-f7f140be8e8c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"8779ce95-dd9e-47fa-9175-42bb736aa8c0","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}]}]}]}]},{"uid":"a3686e35-71b6-4d4d-a094-9ee4e1d2930a","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}]}],"children":[{"uid":"c3081a43-9d90-4099-ae30-9fc1abadfdb5","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"PNR $PNR_Locator$ cancel segment failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"c965f6c1-151b-4a9b-82de-3b79cdcbb3d9","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}],"branches":[{"uid":"46f9e3dd-d5e0-43e9-8071-1248ff96d5d0","commandName":"else","packageName":"If","attributes":[],"children":[{"uid":"3420402b-2610-4215-8ae6-2c646eeaea96","commandName":"runTask","packageName":"TaskBot","attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-3"}},{"uid":"2f41d6bc-039e-4d2f-8714-ff2d26ecdeb0","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"33e3f890-22bb-4de5-91e8-491604e97f05","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"33bc9286-a3b9-4607-a361-74d09266f5ff","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"0f428abd-36eb-45f2-a5c7-d24444ede45a","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"CancelItinerarySegmentXMLResponse"}},{"uid":"90faa316-5f2f-4243-958b-09d83b8cd6f4","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}]}],"children":[{"uid":"7f0b481a-d502-463a-b39c-c83574f5cb2c","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"PNR $PNR_Locator$ cancel segment failed: $Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"78c47940-11c3-4a28-8ee0-ed13776a7bcb","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}],"branches":[{"uid":"db856c43-d8f4-45b4-9a4a-54fcb36e042d","commandName":"else","packageName":"If","attributes":[],"children":[{"uid":"5b24d6a8-3f0c-4149-8670-15b6dd8f6f7b","commandName":"try","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"e36c8e34-dfab-45b5-a97b-2296dcdc3279","commandName":"startSession","packageName":"XML","attributes":[{"name":"sessionName","value":{"type":"STRING","string":"CancelSegmentResponseSession"}},{"name":"data","value":{"type":"STRING","expression":"$CancelItinerarySegmentXMLResponse$"}},{"name":"inputType","value":{"type":"STRING","string":"text"}}]},{"uid":"42c2ccb2-9a48-4663-b01b-234f8f40eed2","commandName":"getSingleNodeV2","packageName":"XML","attributes":[{"name":"sessionName","value":{"type":"STRING","string":"CancelSegmentResponseSession"}},{"name":"xPath","value":{"type":"STRING","string":"//soap-env:Body"}},{"name":"attributeName","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"CancelItinerarySegmentTextResponse"}}],"branches":[{"uid":"4c02ddd2-6a90-4dce-836f-830a8dd574cd","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"691d8ac0-6d8a-40df-ba99-fa2ab857f7ce","commandName":"assign","packageName":"Boolean","attributes":[{"name":"source","value":{"type":"STRING","string":"constant"}},{"name":"userDefined","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"M-IsBotExecutedSuccessfully"}},{"uid":"d8fb7779-1bcf-4d04-8eb6-a9991dc08ad1","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"943542dc-8418-4e6c-ae3f-27505c43dd06","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}]}]},{"uid":"08af135d-c703-4e87-bd65-31810e86283c","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}]}],"children":[{"uid":"dc698086-dd3e-4020-9602-91b804b2a682","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"PNR $PNR_Locator$ cancel segment failed: $CancelItinerarySegmentTextResponse$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"139c878a-8ad0-4534-bd53-9b4cb6e7c391","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}]},{"uid":"6fc0a495-819a-46ea-82ed-eb03c6f76ec0","commandName":"endSession","packageName":"XML","attributes":[{"name":"sessionName","value":{"type":"STRING","string":"CancelSegmentResponseSession"}}]}]}]}]}]}]}],"branches":[{"uid":"330da39b-2a89-4c81-ad1d-a80307e0356c","commandName":"catch","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}},"children":[{"uid":"e6f3746a-9c6b-41e7-b917-3016bdea14d0","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"TRUE"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"0c096af0-0b69-48a9-87bb-2019df1d3e91","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}]}]},{"uid":"fb9fdf3d-e7f1-4241-aa7c-f627abcfd07f","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"TRUE"}}]}],"children":[{"uid":"351e81fc-ea80-4eec-a4c9-be216350e539","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"9b7e6617-2d93-489f-b599-c62f3ec432df","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"0cf7957f-8d39-4e6e-ba1d-d2beea978e0d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"PNR $PNR_Locator$ cancel segment failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"b87354c9-c0c9-4d43-98c5-60435087483d","commandName":"assign","packageName":"String","attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}]}],"branches":[{"uid":"bcb9d386-0c15-4ed6-ae28-0e661c059467","commandName":"finally","packageName":"ErrorHandler","attributes":[],"children":[{"uid":"ecc662cd-4a5d-4d27-a449-f083e740bc3f","commandName":"if","packageName":"If","attributes":[{"name":"condition","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$M-IsBotExecutedSuccessfully.Boolean:toString$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"false"}}]}],"children":[{"uid":"a1a7ec15-bb20-41d0-8c6f-b5c35800540a","commandName":"throw","packageName":"ErrorHandler","attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}},{"name":"message","value":{"type":"STRING","expression":"$Error-Description$ Exception occurred at line number $Error-LineNumber.Number:toString$. You chose to mark the bot as 'Failed' in case of any encountered errors."}}]}]}]}]}],"variables":[{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"my-list-variable","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"my-value-1"},{"type":"STRING","string":"my-value-2"},{"type":"STRING","string":"my-value-3"},{"type":"STRING","string":"my-value-4"},{"type":"STRING","string":"my-value-5"}]}},{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Log_Message","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"\n"}},{"name":"RQ_Variable","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"Segment_List","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"a"}]}},{"name":"End_Number","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Segment_Number","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Username","description":"Your team's EPR Username","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Password","description":"Your team's EPR Password","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Segments_to_Cancel","description":"To cancel entire segment, pass \"XI\".\r\nTo cancel specific segments, pass the segment number, e.g. \"3\", \"4,2\"\r\nTo cancel a range of segments, pass the segment range separated by underscore, e.g. \"2_5\"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Task_Name","description":"Name of task which is calling SWS metabot.\r\nPass $Task_Name$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<Task_Name>"}},{"name":"CancelItinerarySegmentTextResponse","description":"The Sabre response message to the service call.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"CancelItinerarySegmentXMLResponse","description":"The full service response in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"PNR_Locator","description":"The locator of the PNR you are actioning. Default value is 'NOLOCATOR' if no locator is provided.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"M-IsBotExecutedSuccessfully","description":"","type":"BOOLEAN","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"BOOLEAN","boolean":"true"}},{"name":"List-Item","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"List-Item-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RQ_Variable","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"8"}},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-3","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"breakpoints":[],"packages":[{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"String","version":"4.1.0-20210427-194725"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"TaskBot","version":"2.0.1-20210503-140009"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Comment","version":"2.6.0-20210504-152804"},{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"},{"name":"Loop","version":"3.0.0-20210504-152940"},{"name":"Number","version":"3.0.0-20210504-153002"},{"name":"XML","version":"3.1.0-20210504-153517"},{"name":"Boolean","version":"2.1.0-20210504-152757"}],"properties":{"improvedNumberSupport":true,"automationPriority":"PRIORITY_MEDIUM"}}