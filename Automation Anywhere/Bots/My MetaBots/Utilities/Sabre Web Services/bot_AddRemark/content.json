{"triggers":[],"nodes":[{"uid":"175474ee-91c6-45b7-8587-95d6d9d4665a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"fc79298b-ef2c-4b1e-897a-1702481fa2d6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"10924f9e-7c90-4a40-ab88-e40a184abbbf","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"HS=Historical, HD=Hidden, REG=normal remark, QQ=qq remark"}}]},{"uid":"37231749-5468-4a98-9c2c-8829f1a89f94","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"379a9e8d-0660-42c4-a870-2eff7637247b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"HS"}}],"returnTo":{"type":"VARIABLE","variableName":"Remark_Type"}},{"uid":"430d4139-8b12-4323-9051-04fc01bcffcb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Remark_Type.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Remark_Type"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Remark_Type$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"d8f67355-8308-4625-9733-16aad0d82ecb","commandName":"uppercase","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Remark_Type$"}}],"returnTo":{"type":"VARIABLE","variableName":"Remark_Type"}},{"uid":"e1aa274f-0252-4bd2-9196-3912f7759a63","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"c788ad74-62c9-41b1-bfcf-15d78253f5a6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"1cebba30-57e3-473b-aaa7-9bdc95913ba0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"79413d0d-4386-4d73-ba70-5d04ede688db","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"This service doesn't support remark type: $Remark_Type$. Only supports: HS, HD, REG, QQ"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"19049eb3-f3ca-4e52-855d-a0f66ffc5347","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}}],"branches":[{"uid":"7a577d35-eb52-439a-9861-cab3346b5183","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"5b7e4390-a39f-4a88-86b9-7180fca244cf","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"5b024519-0ab1-4a39-9945-ba94cdff06aa","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"22a98739-b6fd-4bd1-8f6b-687be9d5860c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"ba994265-280a-428c-9926-37fa8182f004","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"b605327f-4e75-443d-8280-114d8be3fbae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"b1a5097d-96b3-43a9-934b-95b49b6a5a3e","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"be986c23-3f2e-4aef-a0c5-0cb4c05eca0e","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/SessionCreateRQ"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}},{"key":"EPR_Username","value":{"type":"STRING","expression":"$EPR_Username$"}},{"key":"EPR_Password","value":{"type":"STRING","expression":"$EPR_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"2ec1879a-a79a-4d6e-8e4d-f0a2e0e5173e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_Authorization\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"8fab3358-80c3-4e54-aac6-34300015c1e1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"395fbbba-6a9e-4008-b268-be4c2a8481b2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"22a1f98d-925e-4c56-b5a4-731e55e61830","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_BinarySecurityToken\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"122ffeb5-f278-48fb-8889-fe03fabdfe98","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"be2296a6-78e2-40ef-97cd-7b2f0b61a6ba","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"77e074a6-d4ac-4339-a327-131f37c3ce19","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"e75db7e5-5cc4-4181-9816-30fafff9acce","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"60635285-98b2-414e-b140-6b59989524c7","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"21f3f384-1eca-4e67-810d-5b57849e8625","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"bcc9463b-69d0-4438-a18a-ddb54241b54b","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"cdf0f6db-49c9-4d7a-ac8e-1ab042602f6c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"5d4f2349-7436-4159-a9b9-c71a0a37ddca","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"3cf50421-9c8e-44ed-9c57-66e18863d61a","commandName":"RunScript","packageName":"LegacyAutomation","disabled":false,"attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"da87c408-27f8-4c62-af3d-3dec4d940acb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"76852b9d-38f0-4c68-aa41-cd81d260c0f5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_Authorization$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"3bc5e40e-d8ce-4d21-9417-cd31eedaa858","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$pnrLocator$ add remark:$Remark_Text$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"830cf878-eb3e-4d99-8189-e30c726c5692","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"150ab369-04e4-453c-a02e-d057d65aeb1a","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"3791ab40-5870-43f0-aac5-4927ee0df4c0","commandName":"randomString","packageName":"String","disabled":false,"attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"5c079e69-7d36-413f-8ee3-2f91d6d43e2e","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"ffa78461-efe4-4d6e-b628-54b13b918fe0","commandName":"soapCommand","packageName":"SoapWebService","disabled":false,"attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"UpdateReservationService"}},{"name":"operation","value":{"type":"STRING","string":"UpdateReservationOperation"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:v1=\"http://webservices.sabre.com/pnrbuilder/v1_19\" xmlns:v11=\"http://services.sabre.com/res/or/v1_14\">\n   <soapenv:Header>\n      <sec:Security><sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken></sec:Security>\n      <mes:MessageHeader mes:version=\"1.0\" mes:id=\"10934921\">\n         <mes:From>\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <mes:PartyId mes:type=\"urn:x12.org:IO5:01\">pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>UpdateReservationRQ</mes:Service>\n         <mes:Action>UpdateReservationRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n\n   <soapenv:Body>\n      <v1:UpdateReservationRQ Version=\"1.19.0\">\n         <v1:RequestType commitTransaction=\"false\">Stateful</v1:RequestType>\n         <v1:ReturnOptions UnmaskCreditCard=\"false\" ShowTicketStatus=\"false\" IncludePaymentCardToken=\"false\" RetrievePNR=\"false\" IncludeUpdateDetails=\"false\" ReturnLocator=\"false\">\n            <v1:ResponseFormat>STL</v1:ResponseFormat>           \n         </v1:ReturnOptions>\n         <v1:ReservationUpdateList>\n            <v1:ReservationUpdateItem UpdateId=\"\">\n               <v1:RemarkUpdate type=\"$Remark_Type$\" op=\"C\">\n                  <v1:RemarkText>$Remark_Text$</v1:RemarkText>\n               </v1:RemarkUpdate>\n            </v1:ReservationUpdateItem>\n         </v1:ReservationUpdateList>\n      </v1:UpdateReservationRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"UpdateReservationPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/UpdateReservation_v1.19.0/UpdateReservation_1.19.0.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/UpdateReservationOperation?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}}],"branches":[{"uid":"2079a109-75a6-46b9-861b-e1d2a53c829a","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"bb141406-a174-4d61-883d-8f2a273a5d33","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"0c55be0f-7e07-4bfe-b559-c0f3902410f6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"390fe56d-aebe-49f0-ae2c-42e5e06017fb","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"71e6ce80-a000-4b25-bfbc-3d54b38be4e1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Locator $pnrLocator$, Add remark $Remark_Text$ failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"6dc3af79-5423-4d1e-86e6-54a49b834e6a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"c4d10138-1ebd-44b6-b761-068d1b58fa30","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"c2ce86cd-1edb-4e97-a9cd-918039f2506a","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Error-Description$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"e98a8178-5728-4b27-b2c0-da72526b1e07","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-3"}},{"uid":"9294063d-6b8e-4ecc-9a39-2fdb5318254f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"dfb83441-64ec-464b-ad77-1deccb10733a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"df981a94-50f8-4db3-ac7a-2d32d284a046","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-3{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"dc3a2ad3-c6fb-42a6-9182-a065a1450627","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"AddRemarkXMLResponse"}},{"uid":"87286ae5-3c0a-44ee-8455-929c6a01a2e0","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"9bf2e465-d377-4374-ac2a-b8503a6d1f25","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$pnrLocator$ sabre command response:$Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"181cb4be-2bcf-426b-ab9f-4b3711820fae","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"a0df0e71-fc7e-4d13-8678-296246cd8eb9","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"8f13ac12-8fb6-40e3-908a-f7deb7e52463","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message$, will retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"20e7f69b-3909-4c1e-85d5-c4d162ad0234","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retryTimes$"}},{"name":"operator","value":{"type":"STRING","string":"LessThan"}},{"name":"value","value":{"type":"STRING","string":"2"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"09406311-4d92-4ae4-ac14-4dec3aad21fb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"71220270-3ce3-4838-8086-99823c8399f8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"6c63a0d6-cabe-4660-8a39-c8956631f746","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"681fe7d1-d04b-4ff4-80ee-b7c5ca7a11d9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"54ca3976-aaf6-4f5b-891a-21edd576b4d0","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"InvalidSecurityToken"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"branches":[{"uid":"70b68359-f18b-4249-b337-0dc459a98b00","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"11ffc24c-e3b7-44b9-b286-51227e854398","commandName":"startSession","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"addRemarkResponseSession"}},{"name":"data","value":{"type":"STRING","expression":"$response$"}},{"name":"inputType","value":{"type":"STRING","string":"text"}}]},{"uid":"dfb2bdf0-6eab-471a-9f2a-fd5bcac37891","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"6f3908a6-4603-496e-9294-448554f3108f","commandName":"getSingleNodeV2","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"addRemarkResponseSession"}},{"name":"xPath","value":{"type":"STRING","string":"//*[local-name()='UpdateReservationRS']/*[local-name()='Success']"}},{"name":"attributeName","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"AddRemarkTextResponse"}},{"uid":"fd09adf3-d6b5-48b8-b194-4f83b84e0b80","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$pnrLocator$ add remark:$Remark_Text$ response:$AddRemarkTextResponse$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"fb9cad1c-1d5b-4946-ab93-967889e6b696","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}}],"branches":[{"uid":"2e95beab-af4b-462a-b813-9902b0eb2181","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"2ffeca79-36af-4397-a7fa-c4073ca79e73","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"730d1b74-8e6d-4557-9c99-43d43efeac2f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"a55f73e8-81a1-47aa-8de0-658588e3c3f6","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"f3e6e509-eefb-45d8-9ee9-9750762414ba","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"Got error when adding remark."}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"34705f96-7d31-46b8-a85f-9c9deb54904f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"c52a321f-41cd-4707-9c27-fefac5e9596a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$pnrLocator$ $Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"76cd7b72-6123-46d4-abe3-ac6e3596efe5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"dc076fc2-cf9b-4b4b-a3ec-8c57aa81eb41","commandName":"endSession","packageName":"XML","disabled":false,"attributes":[{"name":"sessionName","value":{"type":"STRING","string":"addRemarkResponseSession"}}]},{"uid":"22b94902-6ba1-4c9a-9a62-44b1c5585c54","commandName":"loop.commands.break","packageName":"Loop","disabled":false}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"ERROR"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[{"uid":"c0598715-f6ff-46ea-b40f-2464982e7898","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"fdfd07a3-4df1-49b7-a901-7c8fc9668054","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"9f9875e5-aa1a-4a1c-97a6-fd23cda0100a","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"a481d5d6-b39c-4bc4-b9d5-04dbf31c65d9","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"b37b87c8-7e0e-4bfc-89ec-fb5d2fbed798","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Add remark: $Remark_Text$ failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"d7c7d343-4a48-4c85-9dd3-fad52cdd6268","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"74314812-c010-4d0c-99ce-8e47f15fc263","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"7c881c56-ad2c-411b-b942-c74d4d7d3474","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"82334f7a-3256-4e25-8375-a670ac6f35d5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"1b12806a-ca17-4ff7-a007-b37dd3d96ce8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"50ad8534-1c45-4599-8295-ec028f63ed13","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"28c28c91-a432-4cd3-ab5a-ef2d212a1b8f","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retryTimes$"}},{"name":"operator","value":{"type":"STRING","string":"LessThan"}},{"name":"value","value":{"type":"STRING","string":"3"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}]}]}],"attributes":[{"name":"operator","value":{"type":"STRING","string":"AND"}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Remark_Type$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"HS"}}],"operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Remark_Type$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"HD"}},{"name":"","value":{"type":"","":"1"}},{"name":"","value":{"type":"","":"LegacyAutomation"}},{"name":"","value":{"type":"","":"legacyConditionVariable"}}],"name":"condition","operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Remark_Type$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"REG"}},{"name":"","value":{"type":"","":"1"}},{"name":"","value":{"type":"","":"LegacyAutomation"}},{"name":"","value":{"type":"","":"legacyConditionVariable"}}],"name":"condition","operatorAttribute":{"operator":"AND","value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Remark_Type$"}},{"name":"operator","value":{"type":"STRING","string":"DoesNotEqualTo"}},{"name":"value","value":{"type":"STRING","string":"QQ"}},{"name":"","value":{"type":"","":"1"}},{"name":"","value":{"type":"","":"LegacyAutomation"}},{"name":"","value":{"type":"","":"legacyConditionVariable"}}]}}},"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"variables":[{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"message","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"retryTimes","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"0"}},{"name":"EPR_Username","description":"Your team's EPR Username","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Password","description":"Your team's EPR Password","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Remark_Type","description":"HS=Historical, HD=Hidden, REG=normal remark, QQ=qq remark","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"HS"}},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Remark_Text","description":"The remark text (string) to be added to the PNR.\r\n*Note: no need to include \"5H-\" before the remark text.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"AddRemarkXMLResponse","description":"The full service response in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"AddRemarkTextResponse","description":"The Sabre response message to the service call.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.\r\n","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"pnrLocator","description":"The locator of the PNR you are actioning.\r\nDefault value is 'NOLOCATOR' if no locator is provided.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-3","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"breakpoints":[],"packages":[{"name":"Comment","version":"2.6.0-20210504-152804"},{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Loop","version":"3.0.0-20210504-152940"},{"name":"Number","version":"3.0.0-20210504-153002"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"},{"name":"String","version":"4.1.0-20210427-194725"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"TaskBot","version":"2.0.1-20210503-140009"},{"name":"XML","version":"3.1.0-20210504-153517"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"1","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}