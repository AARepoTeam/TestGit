{"triggers":[],"nodes":[{"uid":"6024e902-1f4c-4494-bad2-801df9648b3e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"40c173cd-3e86-4928-9eb6-3cf2b9d996e7","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"This logic is used to get the PNR details with SWS getReservation service."}}]},{"uid":"000495c0-2148-469a-ba2a-1bc39d75a0a1","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"6b7278cc-2f37-46b2-b2e2-88760742ff65","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"SUCCESS"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"b4b3712e-4eca-4b21-a28f-1bf3b395b32d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"d98a2683-9c7e-499b-85e9-96743207682f","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"f9eca5d8-2bd7-47fc-9cb4-0c4e4b148a93","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If we get error while calling this service, the app will retry call the service two more times."}}]},{"uid":"b565ba2b-5b61-4b65-9d03-02134ecb8161","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"1817145d-64d5-44a7-acf3-7a38df7149d9","commandName":"OpenCSVTXT","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}},{"name":"filePath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/GetReservationHistorical_subjectArea.txt"}},{"name":"delimeter","value":{"type":"STRING","string":"newLine"}},{"name":"trimTrailingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"trimLeadingSpace","value":{"type":"BOOLEAN","boolean":false}},{"name":"containsHeader","value":{"type":"BOOLEAN","boolean":false}},{"name":"encoding","value":{"type":"STRING","string":"ansi"}}]},{"uid":"4467f75c-c10b-4b14-98c2-e5991d25f859","commandName":"ReadFromCsvTxt","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}}],"returnTo":{"type":"VARIABLE","variableName":"CSV-TXT-SubjectAreas-DATA"}},{"uid":"7b000568-4c45-428d-8f35-b66514fc99b3","commandName":"CloseCsvTxt","packageName":"CsvTxt","disabled":false,"attributes":[{"name":"session","value":{"type":"STRING","string":"SubjectAreas"}}]},{"uid":"707d449c-a96f-484a-acdb-342322591e95","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"11c91292-33b5-46e3-9fe6-7f736d43520c","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"1584ff2c-efd0-4e87-97c4-7386106657b4","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"17fcc9da-53ab-4153-93d4-e78d1007b41d","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","expression":"Use $Loop-Filedata-Column-1$ variable for each record in File."}}]},{"uid":"b48b2b89-169c-468f-bb0b-43794e2d4242","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas$$Loop-Filedata-Column-1[0]$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}},{"uid":"508b39a9-839e-4ca8-9202-485cba43f366","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Subject_Areas.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Subject_Areas"}}],"attributes":[{"name":"iterator","returnTo":{"type":"VARIABLE","variableName":"Loop-Filedata-Column-1"},"attributes":[{"name":"sourceTable","value":{"type":"VARIABLE","variableName":"CSV-TXT-SubjectAreas-DATA"}}],"value":{"type":"ITERATOR","iteratorName":"iteratorTableRow","packageName":"DataTable"}},{"name":"loopType","value":{"type":"STRING","string":"ITERATOR"}}]},{"uid":"ead7cc73-dbf3-4f54-8523-cd09f54c4052","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"7bf2bb8b-0c98-4c16-b1d4-7bed2c2a40b1","commandName":"loop.commands.start","packageName":"Loop","disabled":false,"children":[{"uid":"454e757d-abf5-4f14-9bf5-bb8e434db157","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Loop-Counter-1.LegacyAutomation:getIncrementedNumber.Number:toString$"}}],"returnTo":{"type":"VARIABLE","variableName":"Loop-Counter-1"}},{"uid":"1c1fa592-e644-4f63-b0d7-38af805b968f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"false"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"4a043094-1253-4030-af1f-026d7104506c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"c096213e-b626-4905-88b3-1c8e1b8bea09","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"f3c3bb5e-4490-49d1-a48e-5a0fdde11dd9","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/SessionCreateRQ"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}},{"key":"EPR_Username","value":{"type":"STRING","expression":"$EPR_Username$"}},{"key":"EPR_Password","value":{"type":"STRING","expression":"$EPR_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-1"}},{"uid":"ec636ea5-6e63-4fff-85ba-4777ec943d84","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_Authorization\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"d7044f63-79f0-4954-954f-4627efd7cfc2","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"f89b988a-d858-49a6-b228-ddfec622e28d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"553f0c48-7b67-4298-9ff0-1e18c306bad1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-1{\"SWS_BinarySecurityToken\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"f00a677a-80bf-4f3c-b877-3ddf529a5c0b","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"fe8882a2-0f26-469c-ba47-bcd14e37b4f9","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/getConfigFileProperty"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"key","value":{"type":"STRING","string":"URL"}},{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-2"}},{"uid":"8ff59f2d-1551-45f3-b79b-0a2fe40f3fab","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-2{\"value\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_URL"}},{"uid":"a0452f5f-c2cb-410d-83b7-67ebf3e91ea8","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"11f7db74-6093-4f0f-9d68-4d869dd165a9","commandName":"clear","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}]},{"uid":"fa6b0a28-6e3d-46e2-aacb-48ffe633c7b5","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Username$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"0e931f00-36c2-4471-a4ef-9437c033e9e9","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"c1e55a8c-d711-4854-9b55-7ebba98bd5b8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"\"$SWS_Password$\""}}],"returnTo":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"uid":"92dd00d7-2e0b-4b9e-b43a-7799cbcb1f7a","commandName":"addItem","packageName":"List","disabled":false,"attributes":[{"name":"sourceList","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}},{"name":"listItem","value":{"type":"VARIABLE","variableName":"m-temp-runscript-string"}},{"name":"itemPosition","value":{"type":"STRING","string":"END"}}]},{"uid":"3a53b199-e4f5-44ea-a6c2-69ea13eda4bb","commandName":"RunScript","packageName":"LegacyAutomation","disabled":false,"attributes":[{"name":"scriptPath","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/Encode_Credentials.js"}},{"name":"argument","value":{"type":"VARIABLE","variableName":"m-temp-runscript-list"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"2febf0b0-dd4c-404b-a820-7c099036e0d6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Basic $SWS_Authorization$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}},{"uid":"1885a8d2-9253-408b-89a3-9b68bc92c732","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_Authorization.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_Authorization"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$SWS_Authorization$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":""}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"b8d66d2c-e7f9-4bef-9fc3-ac353ad140ac","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"09079530-950c-47f5-83e2-74f763c40fd2","commandName":"randomString","packageName":"String","disabled":false,"attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"4a85aef8-0348-4940-bbb2-40721c0d5b9b","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"cfb3654e-bc52-4808-b2d1-9d4a388fe0cc","commandName":"soapCommand","packageName":"SoapWebService","disabled":false,"attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"GetReservationService"}},{"name":"operation","value":{"type":"STRING","string":"GetReservationOperation"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:v1=\"http://webservices.sabre.com/pnrbuilder/v1_19\">\n   <soapenv:Header>\n      <sec:Security>\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:version=\"\" mes:id=\"66224617\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>getReservationRQ</mes:Service>\n         <mes:Action>getReservationRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <v1:GetReservationRQ Version=\"1.19.0\">\n         \n         <v1:Locator>$PNR_Locator$</v1:Locator><v1:RequestType>Stateless</v1:RequestType>\n         <v1:ReturnOptions PriceQuoteServiceVersion=\"4.0.0\">\n            <!--Optional:-->\n            <v1:SubjectAreas>\n               <!--1 or more repetitions:-->               \n            $Subject_Areas$\n  \n            </v1:SubjectAreas>\n            <!--Optional:-->\n            <v1:ViewName>Simple</v1:ViewName>\n            <!--Optional:-->\n            <v1:ResponseFormat>STL</v1:ResponseFormat>\n         </v1:ReturnOptions>\n      </v1:GetReservationRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"GetReservationPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/getReservation-v1_16_0/GetReservation_1.16.0_1.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/GetReservationOperation?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"d3e8ac14-d472-4390-a22c-5d053f1e2d8d","commandName":"randomString","packageName":"String","disabled":false,"attributes":[{"name":"randomStringLength","value":{"type":"NUMBER","expression":"$m-string-length-RequestID$"}}],"returnTo":{"type":"VARIABLE","variableName":"RequestID"}},{"uid":"ecae621b-c17f-49e2-b9e8-157e8f98a125","commandName":"toString","packageName":"Datetime","disabled":false,"attributes":[{"name":"source","value":{"type":"VARIABLE","variableName":"Date","packageName":"System"}},{"name":"selectPattern","value":{"type":"STRING","string":"CUSTOM"}},{"name":"patternInput","value":{"type":"STRING","expression":"$@AADefaultDateFormat$"}}],"returnTo":{"type":"VARIABLE","variableName":"m-date-string"}},{"uid":"b963e924-e874-4c5d-a0da-c0c9f2379cb1","commandName":"soapCommand","packageName":"SoapWebService","disabled":false,"attributes":[{"name":"authenticationMode","value":{"type":"STRING","string":"NoAuthentication"}},{"name":"serviceName","value":{"type":"STRING","string":"GetReservationService"}},{"name":"operation","value":{"type":"STRING","string":"GetReservationOperation"}},{"name":"scope","value":{"type":"STRING","string":"completeResponse"}},{"name":"customHeaders","value":{"type":"LIST","list":[{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"serviceVersion"}},{"key":"value","value":{"type":"STRING","string":"1.0.1"}}]},{"type":"DICTIONARY","dictionary":[{"key":"enabled","value":{"type":"BOOLEAN","boolean":true}},{"key":"name","value":{"type":"STRING","string":"Authorization"}},{"key":"value","value":{"type":"STRING","expression":"$SWS_Authorization$"}}]}]}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"rawData","value":{"type":"STRING","expression":"<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:sec=\"http://schemas.xmlsoap.org/ws/2002/12/secext\" xmlns:mes=\"http://www.ebxml.org/namespaces/messageHeader\" xmlns:v1=\"http://webservices.sabre.com/pnrbuilder/v1_19\">\n   <soapenv:Header>\n      <sec:Security>\n         <sec:BinarySecurityToken>$SWS_BinarySecurityToken$</sec:BinarySecurityToken>\n      </sec:Security>\n      <mes:MessageHeader mes:version=\"\" mes:id=\"66224617\">\n         <mes:From>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>PSSIntegration.aa.com</mes:PartyId>\n         </mes:From>\n         <mes:To>\n            <!--1 or more repetitions:-->\n            <mes:PartyId>pm.dev.esoa.qcorpaa.aa.com</mes:PartyId>\n         </mes:To>\n         <mes:CPAId>AAO</mes:CPAId>\n         <mes:ConversationId>iDEV Direct Managed</mes:ConversationId>\n         <mes:Service>getReservationRQ</mes:Service>\n         <mes:Action>getReservationRQ</mes:Action>\n         <mes:MessageData>\n            <mes:MessageId>RPA_RIPA_$RequestID$</mes:MessageId>\n            <mes:Timestamp>$m-date-string$</mes:Timestamp>\n         </mes:MessageData>\n      </mes:MessageHeader>\n   </soapenv:Header>\n   <soapenv:Body>\n      <v1:GetReservationRQ Version=\"1.19.0\">\n         \n         <v1:Locator>$PNR_Locator$</v1:Locator><v1:RequestType>Stateful</v1:RequestType>\n         <v1:ReturnOptions PriceQuoteServiceVersion=\"4.0.0\">\n            <!--Optional:-->\n            <v1:SubjectAreas>\n               <!--1 or more repetitions:-->               \n            <v1:SubjectArea>ITINERARY</v1:SubjectArea>\n  \n            </v1:SubjectAreas>\n            <!--Optional:-->\n            <v1:ViewName>Simple</v1:ViewName>\n            <!--Optional:-->\n            <v1:ResponseFormat>STL</v1:ResponseFormat>\n         </v1:ReturnOptions>\n      </v1:GetReservationRQ>\n   </soapenv:Body>\n</soapenv:Envelope>"}},{"name":"portName","value":{"type":"STRING","string":"GetReservationPortType"}},{"name":"soapVersion","value":{"type":"STRING","string":"SOAP 1.1 Protocol"}},{"name":"radioValue","value":{"type":"STRING","string":"selectedResponse"}},{"name":"parameterOption","value":{"type":"STRING","string":"text"}},{"name":"wsdlFile","value":{"type":"FILE","expression":"file://$@AAApplicationPath$/Automation%20Anywhere/My%20Docs/Utilities/Sabre%20Web%20Services/getReservation-v1_16_0/GetReservation_1.16.0_1.wsdl"}},{"name":"uriFile","value":{"type":"STRING","expression":"$SWS_URL$/GetReservationOperation?body="}},{"name":"wsdlUriOption","value":{"type":"STRING","string":"file"}}],"returnTo":{"type":"VARIABLE","variableName":"response_temp"}}],"branches":[{"uid":"baadcad2-61c6-4884-9b8f-2c39ad4f04ac","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"9aafa49b-d4cd-47f5-a4b6-3104f4f1124e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}},{"uid":"33f4d377-c83e-4cb5-b9e1-f87274316f18","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasErrorWhenCallSWS"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"ef06b118-a880-4235-ba4d-70171d7367e2","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"5b889fce-b7d7-4258-99ce-7381d3a5550f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$ failed: $Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"a90cd807-d504-4650-8cb1-89f7814840ef","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"74868392-2bb2-4366-98af-286e220e557e","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-3"}},{"uid":"ee86a817-c2a4-40ae-89e6-83406403b25d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"d0d9545f-660e-4acc-b960-bc1622867099","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"048c9f47-faac-4f1e-b538-f98b830e05fc","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"864fac0c-d0d6-4c6e-8475-5a12e477f31a","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasErrorWhenCallSWS$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"018d792b-9482-46d5-b637-d8bdac775c48","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/CommonErrorHandler"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"Response","value":{"type":"STRING","expression":"$response$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-4"}},{"uid":"b382d212-6cf1-4cf9-98b9-32973ae68ef9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"response"}},{"uid":"0294197a-2b2a-4901-ac13-ebca256e37cd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"54ed5cf5-c47f-4d25-bf7b-18c5981c9bbd","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-4{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"a71706fd-ee73-437e-bdc2-e2e23a00bde6","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"2bec0a6f-8b67-4aab-96a4-e17ec3152722","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If serivce call is successful, then exit the loop and return pnr details to caller"}}]},{"uid":"7ba1f30c-e7b7-4b12-a0bf-59527727e1a3","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"b8566207-d5ce-47b3-8dd2-9f53d43d626c","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"0c20c8ad-4443-492c-b5d3-b40463d669ea","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$response$"}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"413cfd4c-ba12-4d14-ac97-c9ce4610553f","commandName":"loop.commands.break","packageName":"Loop","disabled":false}],"branches":[{"uid":"759f0c26-4a16-47b7-8c4b-b8479ee087d7","commandName":"elseIf","packageName":"If","disabled":false,"children":[{"uid":"33f05c86-72f6-41fe-9c70-e6dc3183587f","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"f02099ac-03aa-4d95-a187-94b25257fabf","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"2f10fea5-5820-4908-b3a1-e48df548c2fe","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If service return error \"FIN OR IG\", ignore transaction and retry."}}]},{"uid":"6343dd28-368a-42fa-a2fb-c134fd0eae9e","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"4973b77c-8325-43b4-939f-78762f9df3af","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"c50395dd-8c49-4cc6-a735-2f8bc476845b","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"cb5eeaac-e179-46e3-bcd3-a4d6e0b66c24","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$, will ignore transaction and retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"a615729f-6dfa-410d-a60f-81b203098116","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"bc189ac0-aa36-45f9-8540-1804062bec01","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-5"}},{"uid":"c3ad3f44-78ad-4711-805b-947cc5c21b0d","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/IgnoreTransaction"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"ENV","value":{"type":"STRING","expression":"$ENV$"}},{"key":"SWS_BinarySecurityToken","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}},{"key":"pnrLocator","value":{"type":"STRING","expression":"$PNR_Locator$"}},{"key":"SWS_Username","value":{"type":"STRING","expression":"$SWS_Username$"}},{"key":"SWS_Password","value":{"type":"STRING","expression":"$SWS_Password$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-6"}},{"uid":"9f7d31fb-9528-465e-9742-c018587a4e85","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"ignoreTransactionResponse\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igResponse"}},{"uid":"73d1fcb8-3509-4c5f-833b-f2caf043055d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"Response_Status\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igStatus"}},{"uid":"807ed816-da0f-4130-b353-6f4c115d5e5c","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$M-Logic-Return-Dict-6{\"Response_Error\"}$"}}],"returnTo":{"type":"VARIABLE","variableName":"igError"}}],"branches":[{"uid":"505112fc-e459-4fc9-a7f7-1ac88e9ea61b","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"c48fbc0f-49ef-4f71-8b6c-76152742f0a2","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"5cf492ef-c0c1-43a4-b0a3-1299615c238c","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If service return other errors, no retry, and return error to caller."}}]},{"uid":"c8c4b2e9-2027-41ff-834d-a605615a5206","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"8790c6dc-1401-47d3-8355-cd76337bb4d6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"5811e668-5fd3-4a2c-8f99-5359ce52723f","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$PNR_Details.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"PNR_Details"}},{"uid":"fe1cbffc-2c71-45ea-ab15-c0b8b6409208","commandName":"loop.commands.break","packageName":"Loop","disabled":false}]}],"attributes":[{"name":"operator","value":{"type":"STRING","string":"OR"}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"FIN OR IG"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"operatorAttribute":{"operator":"OR","value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"The PNR in the AAA has been modified"}},{"name":"","value":{"type":"","":"1"}},{"name":"","value":{"type":"","":"String"}},{"name":"","value":{"type":"","":"stringVariable"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}}]},"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"WARNING"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]},{"uid":"bfb82fe4-6118-4c7e-90c7-29f7d32ce943","commandName":"else","packageName":"If","disabled":false,"children":[{"uid":"964e333f-0aa1-4211-9932-8f647031f694","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"2b293773-b164-4bc4-89a6-9f5cdd64bf27","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"If serivce call failed, log the message into logfile, if the error is InvalidSecurityToken, then reset SWS_BinarySecurityToken to blank."}}]},{"uid":"c2857ef7-34ab-4389-b3a4-47f432f2b61a","commandName":"Comment","packageName":"Comment","disabled":true,"attributes":[{"name":"comment","value":{"type":"STRING","string":"--------------------------------------------------------------------------------------------------------------------------------------"}}]},{"uid":"7a2d11dd-46b5-408d-a4da-0b466815b1c6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"c9ff7ca0-b8c6-4d28-9ee8-5c5cf997ac83","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"2121e013-5119-4c47-a682-db1218e41caa","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$, will retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"ff07bf50-9e59-49e4-95bd-befef5fce4bb","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"7ce847a8-a41d-4a4c-8679-6238d167532f","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-7"}},{"uid":"c189d534-fe2a-475e-b2d6-30b98766e4df","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"97c276dc-65ab-4faf-802a-17d0771643e9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":""}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}},{"uid":"9f34f6b9-08aa-4602-8265-9357d8b05771","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$SWS_BinarySecurityToken.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"SWS_BinarySecurityToken"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Error$"}},{"name":"operator","value":{"type":"STRING","string":"INCLUDE"}},{"name":"value","value":{"type":"STRING","string":"InvalidSecurityToken"}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":false}},{"name":"isIgnoreCarriage","value":{"type":"BOOLEAN","boolean":true}}],"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]}]}],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$Response_Status$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"SUCCESS"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"branches":[{"uid":"95b301dc-963c-482b-a9ec-792e29db7039","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"5648d310-0c1b-4818-9fd8-008345cd68ba","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"true"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}},{"uid":"8f5f18a2-533c-443e-9dd6-b1920548c912","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$hasError.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"hasError"}}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"Error-Description"},"errorLineNumber":{"type":"VARIABLE","variableName":"Error-LineNumber"}}}]},{"uid":"d618cd25-4931-4f79-92a7-d5aa0f9a740d","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"06bd1640-1995-498f-8bf5-c3a873f398ec","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Error-Description$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"a4073c5d-8885-41b2-933a-b95928f97cf1","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Error.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Error"}},{"uid":"3397e9b3-61b6-4601-9e3d-9f4efddc3b0d","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","string":"ERROR"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"145a0e64-af9d-4967-8075-9b63831e97e8","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$Response_Status.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"Response_Status"}},{"uid":"006c65fa-9d8a-40fc-a2f4-8a671374883e","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$, will retry."}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"b2a1e4ea-0e4c-42d7-b080-bb051aef49ad","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"f4f9f944-c838-4b7e-8ea9-24b01c9e19ae","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-8"}},{"uid":"4fb83a6a-8a0e-41e6-bedd-e1782d389cd6","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes$+1"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}},{"uid":"ca7d0640-4047-48c5-9ef1-e5be3c000f51","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$retryTimes.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"retryTimes"}}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$hasError$"}},{"name":"operator","value":{"type":"STRING","string":"EqualsTo"}},{"name":"value","value":{"type":"STRING","string":"true"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}}]}],"attributes":[{"name":"checkConditionAtEnd","value":{"type":"BOOLEAN","boolean":false}},{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$retryTimes$"}},{"name":"operator","value":{"type":"STRING","string":"LessThan"}},{"name":"value","value":{"type":"STRING","string":"3"}}],"value":{"type":"CONDITIONAL","conditionalName":"legacyConditionVariable","packageName":"LegacyAutomation"}},{"name":"loopType","value":{"type":"STRING","string":"WHILE"}}]},{"uid":"b69931bb-c55a-4c10-adc0-7b6e0cb48157","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"retrieve PNR $PNR_Locator$:$Response_Status$ $Response_Error$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"3d1bb758-02ae-4c65-ad83-5f3243b3b0b9","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$message.LegacyAutomation:parseVariableOperation$"}}],"returnTo":{"type":"VARIABLE","variableName":"message"}},{"uid":"0789729e-78f8-45a1-858d-1bef107130eb","commandName":"runTask","packageName":"TaskBot","disabled":false,"attributes":[{"name":"taskbot","value":{"type":"TASKBOT","taskbotFile":{"type":"FILE","string":"repository:///Automation%20Anywhere/Bots/My%20MetaBots/Utilities/Sabre%20Web%20Services/log"},"taskbotInput":{"type":"DICTIONARY","dictionary":[{"key":"message","value":{"type":"STRING","expression":"$message$"}},{"key":"logFolder","value":{"type":"STRING","expression":"$logFolder$"}},{"key":"logFile","value":{"type":"STRING","expression":"$logFile$"}},{"key":"taskName","value":{"type":"STRING","expression":"$taskName$"}}]},"taskbotOutput":{"type":"DICTIONARY","dictionary":[]}}},{"name":"repeatOption","value":{"type":"STRING","string":"DO_NOT_REPEAT"}},{"name":"continueOnError","value":{"type":"BOOLEAN","boolean":false}},{"name":"delayNextRepetition","value":{"type":"BOOLEAN","boolean":false}}],"returnTo":{"type":"VARIABLE","variableName":"M-Logic-Return-Dict-9"}}],"variables":[{"name":"Prompt-Assignment","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"Test-Value"}},{"name":"my-list-variable","description":"","type":"LIST","subtype":"STRING","input":true,"output":true,"defaultValue":{"type":"LIST","list":[{"type":"STRING","string":"my-value-1"},{"type":"STRING","string":"my-value-2"},{"type":"STRING","string":"my-value-3"},{"type":"STRING","string":"my-value-4"},{"type":"STRING","string":"my-value-5"}]}},{"name":"Subject_Areas","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_URL","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"response","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"RequestID","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true},{"name":"message","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"retryTimes","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"0"}},{"name":"igError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"igStatus","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"igResponse","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"hasErrorWhenCallSWS","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"false"}},{"name":"hasError","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"false"}},{"name":"response_temp","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Username","description":"Your team's EPR Username","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"EPR_Password","description":"Your team's EPR Password","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Password","description":"Password for Sabre Web Services","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Authorization","description":"","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"ENV","description":"Specify which environment you want to run (Dev: TSTS, Stage: CERT, Production: RES).\r\nPass $ENV$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<ENV>"}},{"name":"logFile","description":"File where Sabre actions will be logged.\r\nPass $vInfoLogFile$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<vInfoLogFile>"}},{"name":"logFolder","description":"Path to the folder containing the log file.\r\nPass $Path_Logs$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<Path_Logs>"}},{"name":"PNR_Details","description":"This variable contains the details of the PNR you are retrieving in XML format.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"PNR_Locator","description":"The locator of the PNR you are retrieving.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Error","description":"The error message, if service call was unsuccessful.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"Response_Status","description":"Returns SUCCESS if service call is successful; returns WARNING/ERROR/FAIL otherwise.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_BinarySecurityToken","description":"This variable holds the security token used to access SWS. Default value is null; metabot will create one when it is first called.\r\nThe same variable should be used for all tasks/subtasks in a process.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"SWS_Username","description":"Username for Sabre Web Services (e.g. TID, SID, or ZID)","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"taskName","description":"Name of task which is calling SWS metabot.\r\nPass $Task_Name$ from taskbot.","type":"STRING","subtype":"UNDEFINED","input":true,"output":true,"defaultValue":{"type":"STRING","string":"<Task_Name>"}},{"name":"Loop-Filedata-Column","description":"","type":"RECORD","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Filedata-Column-1","description":"","type":"RECORD","subtype":"UNDEFINED","input":false,"output":false},{"name":"Loop-Counter-1","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-Description","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"Error-LineNumber","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false},{"name":"CSV-TXT-SubjectAreas-DATA","description":"","type":"TABLE","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"m-temp-runscript-list","description":"","type":"LIST","subtype":"STRING","input":false,"output":false},{"name":"m-string-length-RequestID","description":"","type":"NUMBER","subtype":"UNDEFINED","input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"10"}},{"name":"M-Logic-Return-Dict-1","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-2","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"m-date-string","description":"","type":"STRING","subtype":"UNDEFINED","input":false,"output":false},{"name":"M-Logic-Return-Dict-3","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-4","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-5","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-6","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-7","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-8","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}},{"name":"M-Logic-Return-Dict-9","description":"","type":"DICTIONARY","subtype":"ANY","input":false,"output":false,"defaultValue":{"type":"DICTIONARY","dictionary":[]}}],"breakpoints":[],"packages":[{"name":"CsvTxt","version":"2.4.0-20210504-152806"},{"name":"Comment","version":"2.6.0-20210504-152804"},{"name":"DataTable","version":"2.8.0-20210504-153459"},{"name":"Datetime","version":"2.2.0-20210504-152815"},{"name":"ErrorHandler","version":"2.6.0-20210504-152835"},{"name":"If","version":"3.0.0-20210504-152844"},{"name":"LegacyAutomation","version":"4.0.0-20210512-093900"},{"name":"List","version":"2.3.0-20210504-152938"},{"name":"Loop","version":"3.0.0-20210504-152940"},{"name":"Number","version":"3.0.0-20210504-153002"},{"name":"SoapWebService","version":"3.3.0-20210517-154853"},{"name":"String","version":"4.1.0-20210427-194725"},{"name":"System","version":"3.3.0-20210419-071503"},{"name":"TaskBot","version":"2.0.1-20210503-140009"}],"migrationJournalReviewIds":[],"workItemTemplateName":null,"properties":{"botCodeVersion":"1","improvedNumberSupport":true,"timeout":"0s","automationPriority":"PRIORITY_MEDIUM"}}